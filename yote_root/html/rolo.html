<!DOCTYPE html>
<html>
  <head>
    <title>Rolodex App</title>
    <script src="/yote/js/jquery-latest.js"></script>
    <script src="/yote/js/jquery.cookie.js"></script>
    <script src="/yote/js/jquery.base64.min.js"></script>
    <script src="/yote/js/json2.js"></script>

    <script src="/templates/templates.js"></script>

    <script src="/yote/js/yote.js"></script>
    <script src="/yote/js/yote.util.js"></script>
    <link href="/yote.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/css/main.css" rel="stylesheet" type="text/css" media="all" />

    <META NAME="Author" CONTENT="Eric Wolf, coyocanid@gmail.com">

    <STYLE>
      .box { margin:15px; padding:4px;border:black 2px solid; }
    </STYLE>

    <script type="text/template" class="yote_template_definition" template_name="New_Rolodex">
       <$$$ new firstname <input type="text"  placeholder="First Name"   > $$$>   <BR>
       <$$$ new lastname  <input type="text"  placeholder="Last Name"    > $$$>   <BR>
       <$$$ new email     <input type="email" placeholder="Email Address"> $$$>   <BR>
       <$$$ new cell      <input type="phone" placeholder="Cellphone"    > $$$>   <BR>
       <$$$ new homepage  <input type="text"  placeholder="Homepage URL" > $$$>   <BR>
       <$ newbutton _ entries New Rolodex Entry $>
    </script>

    <script type="text/template" class="yote_template_definition" template_name="Show_Rolodex_Entry">
       <TR> 
	 <TD>  <$ edit _ firstname $> </TD>
	 <TD>  <$ edit _ lastname  $> </TD>
         <TD>  <$ edit _ email  $>    </TD>
         <TD>  <$ edit _ cell $>      </TD>
	 <TD>  <$ edit _ homepage $>  </TD>
	 <TD>  <$ list_remove_button _ entries $>  </TD>
       </TR>
    </script>

    <script type="text/template" class="yote_template_definition" template_name="Show_Rolodex">
       <h3>Rolodex Entries</h3>
       <$$$ var search_fields firstname lastname email $$$>
       <$$ SearchList $$><BR>
       <TABLE>
	 <TR> <TH>First Name</TH> <TH>Last Name</TH> <TH>Email</TH> <TH>Cell Number</TH> <TH>Homepage</TH> <TH>Delete</TH> </TR>
	 <@ Show_Rolodex_Entry 10 @>
       </TABLE>
       <$$ Paginator $$>
    </script>

    <script type="text/template" class="yote_template_definition" template_name="Empty">
       No entries found.
    </script>

    <script type="text/template" class="yote_template_definition" template_name="Rolodex">
       <h2>Rolodex App</h2>
       <DIV class="box">
	 <$@ Show_Rolodex Empty _ entries @$> <BR>
       </DIV>
       <DIV class="box">
	 <$$ New_Rolodex $$>
       </DIV>
    </script>

    <script>
      $().ready(function(){
          $.yote.include_templates( '/templates/templates.html' );
	  $.yote.util.register_functions( base_templates );

          $.yote.init();

          var app = $.yote.fetch_app( 'MadYote' );

          try {
              var rolodex = app.get_rolodex();
	      $.yote.util.register_item( 'rolodex', rolodex );
          } catch( err ) {
              console.log( ['err',err] );
          }


          $.yote.util.register_functions( {
          } );

	  $.yote.util.refresh_ui();
      });
    </script>
  </head>

  <BODY>

    <DIV id="some_div" class="yote_template" template="Rolodex" default_variable="rolodex"></div>

  </BODY>
</html>
