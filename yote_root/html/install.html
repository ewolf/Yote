<!DOCTYPE html>
<html>
  <head>
    <title>Yote</title>
    <script src="/yote/js/jquery-latest.js"></script>
    <script src="/yote/js/jquery.cookie.js"></script>
    <script src="/yote/js/jquery.base64.min.js"></script>
    <script src="/yote/js/json2.js"></script>

    <script src="/js/main.js"></script>
    <script src="/yote/js/yote.js"></script>
    <script src="/yote/js/yote.util.js"></script>
    <link href="/yote.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/css/main.css" rel="stylesheet" type="text/css" media="all" />
    <script>
    $().ready(function(){

	$.yote.init();

	make_menus( '#top_nav' );

	var page_counter = $.yote.fetch_app('Yote::Util::Counter');
	page_counter.increment( 'Install Page',
				function( count ) {
				    $('#counter').empty().append( count );
				},
				function( err ) { },
				1 );
	attach_login( {
	    attachpoint         : '#logged_in_status',
	    message_attachpoint : '#msg_div' 
	} );
    });
    </script>
  </head>

  <BODY>

    <DIV class="header">
	<img src="yotelogo.png">
	<UL id="top_nav" class="nav"></UL>
        <DIV class="login logged_in" id="logged_in_status"></DIV>
        <DIV id="msg_div"></DIV>
    </DIV>

    <SECTION>
      <DIV class="page-header">
	<H1>Installing Yote</H1>
      </DIV>
      <p>
      You can install Yote using either CPAN or Github. This will install the libraries and the yote_server program and create
      a base directory in the first of the following places that is writeable to the account doing the installation :
      <ul>
	<li>/opt/yote</li>
	<li>/var/yote</li>
	<li>/usr/local/yote</li>
	<li>~/yote</li>
      </ul>

      <DL>
	<DT>CPAN</DT>
	<DD>
	  <code>
	    $ sudo CPAN Yote
	  </code>
	</DD>
      
	<DT>Github</DT>
	<DD>
	  Get Yote  on github : <a href="https://github.com/ewolf/Yote">https://github.com/ewolf/Yote</a><BR>
	  <code>
	    $ perl Build.PL<BR>
	    $ ./Build installdeps<BR>
	    $ ./Build test<BR>
	    $ sudo ./Build install<BR>
	  </code>
	</DD>
      </DL>
      </p>
    </SECTION>
    
    <SECTION>
      <DIV class="page-header">
	<H1>Running Yote</H1>
      </DIV>
      <P>
      Yote can be run on any available port using the <code>yote_server</code> command. As of this writing, <code>yote_server</code> is not yet daemonized. The first time <code>yote_server</code> is run, it will prompt for some configuration information.
      <blockquote>
	<code>
	  <pre>
$ yote_server --port=80
	  </pre>
	</code>
      </blockquote>
      </P>
    </SECTION>
    
    <SECTION id="configure">
      <DIV class="page-header">
	<H1>Configuring Yote</H1>
      </DIV>

      <P>
	When Yote is run for the first time, it asks what port the server should be run on and what sort of datastore engine should be set up.
	Yote can always use a Sqlite database as a store. 
      </P>
      <P>
	The available engines are :
	<ul>
	  <li>mongoDB ( preferred )</li>
	  <li>Sqlite</li>
	  <li>MySQL</li>
	</ul>
      </P>

      <h3>Accounts</h3>
      <P>
	Once started, the first user login account created with Yote is the root account. The account can be created by calling 
	<code>$.yote.create_login( 'handle', 'password', 'email' )</code>
      </P>

      <h3>Unit Tests</h3>
      <p>
	There are additional unit tests that cannot be performed by the installer. These are tests that make sure the javascript
	can connect correctly to the back end. To run the unit tests, start Yote and open up a browser to 
	<code>http://localhost/yote/unit_tests.html</code>
	<BR><BR>
	The last few tests take a few seconds, so wait until the browser reports 'passed all tests'.
      </p>

      <h3>App Visibility</h3>
      <P>
	App libraries are visible to Yote if they are in the perl classpath or are in the <code>lib</code> directory off of the yote base directory.
	<br>
	HTML pages are visible to Yote if they are in the <code>html</code> directory off of the yote base directory.
      </P>

    </SECTION>
    
    <footer>
      This page has been viewed <span id="counter"></span> times.
    </footer>
    <script src="/js/local.js"></script>
  </body>
</html>
